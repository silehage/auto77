(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{8219:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"q-pb-xl",class:{"flex flex-center":!t.galleries.available}},[e("q-header",[e("q-toolbar",[e("q-btn",{attrs:{to:{name:"Settings"},flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),e("q-toolbar-title",[t._v("\n        Photo Gallery\n      ")]),e("q-btn",{staticClass:"gt-xs",attrs:{oucolor:"grey-1","text-color":"grey-9",tline:"",icon:"eva-plus-circle",label:"Upload Gallery","no-caps":""},on:{click:t.handleBtnUpload}})],1)],1),e("div",{staticClass:"q-pa-sm text-xs text-grey-8 bg-yellow-2 z-50",class:t.galleries.data.length?"relative":"absolute-top"},[e("div",[t._v("Note")]),e("div",[t._v("Untuk mempercepat loading aplikasi, kecilkan / kompress image sebelum upload")])]),e("input",{ref:"image",staticClass:"hidden",attrs:{type:"file"},on:{change:t.handleFileUpload}}),t.galleries.available?[e("div",{staticClass:"q-py-md"},[e("q-list",{attrs:{separator:""}},t._l(t.galleries.data,(function(a){return e("q-item",{key:a.id},[e("q-item-section",{attrs:{top:"",avatar:""}},[e("img",{staticClass:"img-thumb",attrs:{src:a.src}})]),e("q-item-section",{attrs:{top:""}},[e("div",{staticClass:"q-mb-xs"},[t._v("Urutan Tamplian")]),e("div",{staticClass:"row q-gutter-sm items-center"},[e("q-btn",{attrs:{icon:"remove",size:"xs",unelevated:"",round:""},on:{click:function(e){return t.decre(a)}}}),e("span",[t._v(t._s(a.weight))]),e("q-btn",{attrs:{icon:"add",size:"xs",round:"",unelevated:""},on:{click:function(e){return t.incre(a)}}})],1)]),e("q-item-section",{attrs:{center:"",side:""}},[e("q-btn",{attrs:{size:"sm",round:"",icon:"eva-trash-2",glossy:"",color:"red"},on:{click:function(e){return t.remove(a.id)}}})],1)],1)})),1)],1)]:[e("div",[t._v("Tidak ada data")])],e("q-inner-loading",{attrs:{showing:!t.galleries.ready}},[e("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1),e("q-page-sticky",{staticClass:"lt-sm",attrs:{position:"bottom-right",offset:[12,12]}},[e("q-btn",{attrs:{fab:"",icon:"add",color:"primary",glossy:""},on:{click:t.handleBtnUpload}})],1)],2)},i=[],o=a("ded3"),s=a.n(o),l=a("758b"),r=a("2f62"),c={data:function(){return{timeout:null,uploadPercentage:0}},computed:s()({},Object(r["e"])({galleries:function(t){return t.gallery.galleries},loading:function(t){return t.loading}})),mounted:function(){this.galleries.data.length||this.getAll()},methods:s()(s()({},Object(r["b"])("gallery",["removeItem","getAll","updateWeight"])),{},{changeWeight:function(t,e){this.updateWeight({value:t,id:e})},incre:function(t){this.changeWeight(t.weight+1,t.id)},decre:function(t){t.weight<=1||this.changeWeight(t.weight-1,t.id)},remove:function(t){var e=this;this.$q.dialog({title:"Konfirmasi Penghapusan Item",message:"Yakin akan menghapus data ini?",ok:{label:"Hapus",flat:!0,"no-caps":!0},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.removeItem(t)})).onCancel((function(){console.log("Cancel")})).onDismiss((function(){}))},handleBtnUpload:function(){this.$refs.image.click()},handleFileUpload:function(){var t=this;this.$store.commit("slider/SET_DATA_STATUS",!1);var e=new FormData;e.append("image",this.$refs.image.files[0]),Object(l["a"])().post("gallery",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t.uploadPercentage=parseInt(Math.round(e.loaded/e.total*100))}}).then((function(e){t.getAll()})).catch((function(e){console.log("FAILURE!!"),t.$store.commit("slider/SET_DATA_STATUS",!0)}))}})},d=c,u=(a("8872"),a("2877")),g=a("9989"),p=a("e359"),m=a("65c6"),f=a("9c40"),h=a("6ac5"),b=a("1c1c"),v=a("66e5"),k=a("4074"),q=a("27f9"),y=a("74f7"),w=a("e669"),T=a("de5e"),_=a("eebe"),x=a.n(_),C=Object(u["a"])(d,n,i,!1,null,"6bf7fc3d",null);e["default"]=C.exports;x()(C,"components",{QPage:g["a"],QHeader:p["a"],QToolbar:m["a"],QBtn:f["a"],QToolbarTitle:h["a"],QList:b["a"],QItem:v["a"],QItemSection:k["a"],QInput:q["a"],QInnerLoading:y["a"],QSpinnerFacebook:w["a"],QPageSticky:T["a"]})},8872:function(t,e,a){"use strict";a("9da2")},"9da2":function(t,e,a){}}]);