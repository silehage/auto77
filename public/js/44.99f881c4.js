(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{"1a9f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-header",[a("q-toolbar",[a("q-btn",{attrs:{to:{name:"Settings"},flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",[t._v("\n       List Produk\n      ")]),a("q-btn",{staticClass:"gt-xs",attrs:{"no-caps":"",outline:"",icon:"eva-plus-circle",to:{name:"ProductCreate"},label:"Tambah Produk"}})],1)],1),a("div",{staticClass:"border q-pa-md row item-center q-gutter-x-sm"},[a("div",{staticClass:"col"},[a("q-input",{ref:"input",attrs:{loading:t.loading,outlined:"",dense:"",color:"grey-2",placeholder:"ketik nama produk"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("q-btn",{attrs:{unelevated:"",label:"Cari",color:"primary"},on:{click:t.searchProduct}}),a("q-btn",{attrs:{outline:"",label:"Reset",color:"primary"},on:{click:t.getAdminProducts}})],1),a("div",{staticClass:"q-px-md q-pb-sm text-md text-weight-bold"},[t._v("Produk")]),a("q-separator"),t.products.available?[a("div",{staticClass:"q-pt-sm q-pb-xl"},[a("q-list",{attrs:{separator:""}},t._l(t.products.data,(function(e){return a("q-item",{key:e.id},[a("q-item-section",{staticClass:"q-pr-md",attrs:{avatar:"",top:""}},[e.assets?a("q-img",{staticClass:"bg-white img-product-admin",attrs:{src:e.assets[0].src,ratio:"1",width:"55px"}}):t._e()],1),a("q-item-section",{attrs:{top:""}},[a("div",{},[a("q-item-label",{staticClass:"text-subtitle2",attrs:{lines:"2"}},[t._v(t._s(e.title))]),a("q-item-label",{attrs:{caption:""}},[t._v("Harga Dasar "+t._s(t.moneyIDR(e.price)))]),e.varians.length?t._e():a("q-item-label",{attrs:{caption:""}},[t._v("Stok "+t._s(e.stock))]),a("q-item-label",[a("q-slide-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showListId==e.id,expression:"showListId == product.id"}]},[a("div",{staticClass:"text-weight-bold q-pa-xs q-mt-sm"},[t._v("Detil Varian")]),t._l(e.varians,(function(s){return a("div",{key:s.id,staticClass:"q-mb-xs"},[s.has_subvarian?a("q-list",{attrs:{dense:"",bordered:"",separator:""}},t._l(s.subvarian,(function(i){return a("q-item",{key:i.id},[a("q-item-section",[t._v(t._s(s.label)+" "+t._s(s.value)+" ")]),a("q-item-section",[t._v(t._s(i.label)+" "+t._s(i.value))]),a("q-item-section",[t._v("Stok "+t._s(i.stock))]),a("q-item-section",[t._v("Harga "+t._s(t.moneyIDR(e.price+i.price)))])],1)})),1):t._e(),s.has_subvarian?t._e():a("q-list",{attrs:{dense:"",separator:"",bordered:""}},[a("q-item",[a("q-item-section",[t._v(t._s(s.label)+" "+t._s(s.value)+" ")]),a("q-item-section",[t._v("Stok "+t._s(s.stock))]),a("q-item-section",[t._v("Harga "+t._s(t.moneyIDR(e.price+s.price)))])],1)],1)],1)}))],2)])],1)],1)]),a("q-item-section",{attrs:{side:"",top:""}},[t.isDesktop?t._e():a("div",[a("q-fab",{attrs:{color:"primary",icon:"eva-chevron-left",direction:"left",glossy:"",padding:"sm",unelevated:""}},[a("q-fab-action",{attrs:{unelevated:"",round:"",icon:"eva-trash-2",glossy:"",color:"red"},on:{click:function(a){return t.remove(e.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red"}},[t._v("Hapus")])],1),a("q-fab-action",{attrs:{unelevated:"",to:{name:"ProductEdit",params:{id:e.id}},round:"",glossy:"",color:"info",icon:"eva-edit-2"}},[a("q-tooltip",{attrs:{"content-class":"bg-info"}},[t._v("Edit")])],1),a("q-fab-action",{attrs:{unelevated:"",to:{name:"ProductShow",params:{slug:e.slug}},round:"",glossy:"",color:"teal",icon:"eva-external-link-outline"}},[a("q-tooltip",{attrs:{"content-class":"bg-teal"}},[t._v("Lihat")])],1),e.varians.length?a("q-fab-action",{attrs:{unelevated:"",round:"",icon:"eva-pantone",glossy:"",color:"accent"},on:{click:function(a){return t.selectVarian(e)}}},[a("q-tooltip",{attrs:{"content-class":"bg-accent"}},[t._v("Detil Varian")])],1):t._e()],1)],1),t.isDesktop?a("div",{staticClass:"row q-gutter-xs"},[e.varians.length?a("q-btn",{attrs:{size:"11px",unelevated:"",round:"",icon:"eva-pantone",glossy:"",color:"accent"},on:{click:function(a){return t.selectVarian(e)}}},[a("q-tooltip",{attrs:{"content-class":"bg-accent"}},[t._v("Detil Varian")])],1):t._e(),a("q-btn",{attrs:{size:"11px",unelevated:"",round:"",icon:"eva-trash-2",glossy:"",color:"red"},on:{click:function(a){return t.remove(e.id)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red"}},[t._v("Hapus")])],1),a("q-btn",{attrs:{size:"11px",unelevated:"",to:{name:"ProductEdit",params:{id:e.id}},round:"",glossy:"",color:"info",icon:"eva-edit-2"}},[a("q-tooltip",{attrs:{"content-class":"bg-info"}},[t._v("Edit")])],1),a("q-btn",{attrs:{size:"11px",unelevated:"",to:{name:"ProductShow",params:{slug:e.slug}},round:"",glossy:"",color:"teal",icon:"eva-external-link-outline"}},[a("q-tooltip",{attrs:{"content-class":"bg-teal"}},[t._v("Lihat")])],1)],1):t._e()])],1)})),1),t.products.next_page_url?a("div",{staticClass:"q-my-md q-gutter-sm text-center"},[a("q-btn",{attrs:{loading:t.isLoadmore,"no-caps":"",outline:"",color:"primary"},on:{click:function(e){return t.paginate(t.products.next_page_url)}}},[a("span",[t._v("Loadmore...")])])],1):t._e()],1)]:[a("div",{staticClass:"text-center q-pt-xl"},[t._v("Tdak ada data")])],a("q-page-sticky",{staticClass:"lt-sm",attrs:{position:"bottom-left",offset:[12,12]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary",to:{name:"ProductCreate"},glossy:""}})],1),a("q-dialog",{attrs:{persistent:"",position:"bottom"},model:{value:t.varianViewModal,callback:function(e){t.varianViewModal=e},expression:"varianViewModal"}},[t.productSelected?a("q-card",{staticClass:"max-width",staticStyle:{"min-height":"300px"}},[a("q-list",[a("q-item",[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium",attrs:{lines:"1"}},[a("div",[t._v(t._s(t.productSelected.title))])])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"eva-close",flat:"",padding:"xs",round:""}})],1)],1)],1),a("q-separator"),t._l(t.productSelected.varians,(function(e){return a("div",{key:e.id},[e.has_subvarian?a("q-list",{attrs:{dense:""}},t._l(e.subvarian,(function(s){return a("q-item",{key:s.id},[a("q-item-section",[t._v(t._s(e.label)+" "+t._s(e.value)+" - "+t._s(s.label)+" "+t._s(s.value))]),a("q-item-section",[t._v("Stok : "+t._s(s.stock))]),a("q-item-section",[t._v("Harga : "+t._s(t.moneyIDR(t.productSelected.price+s.price)))])],1)})),1):t._e(),e.has_subvarian?t._e():a("q-list",{attrs:{dense:""}},[a("q-item",[a("q-item-section",[t._v(t._s(e.label)+" "+t._s(e.value)+" ")]),a("q-item-section",[t._v("Stok : "+t._s(e.stock))]),a("q-item-section",[t._v("Harga : "+t._s(t.moneyIDR(t.productSelected.price+e.price)))])],1)],1)],1)}))],2):t._e()],1)],2)},i=[],o=a("ded3"),n=a.n(o),r=(a("d3b7"),a("e6cf"),a("a79d"),a("ac1f"),a("841c"),a("2f62")),c=a("758b"),l={name:"AdminProductList",data:function(){return{productSelected:null,varianViewModal:!1,pageNumber:1,search:"",productSearch:[],showListId:null,isLoadmore:!1}},computed:n()(n()({},Object(r["e"])({products:function(t){return t.product.admin_products},loading:function(t){return t.loading}})),{},{isDesktop:function(){return window.innerWidth>600}}),methods:n()(n()({},Object(r["b"])("product",["getAdminProducts","productDelete","searchAdminProducts"])),{},{selectVarian:function(t){this.varianViewModal=!0,this.productSelected=t},searchProduct:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$refs.input.blur(),this.searchAdminProducts(this.search).then((function(e){200==e.status&&(console.log(e.data.results),t.$store.commit("product/SET_ADMIN_PRODUCTS",e.data.results))})).finally((function(){t.$store.commit("SET_LOADING",!1)}))},showList:function(t){this.showListId==t?this.showListId=null:this.showListId=t},remove:function(t){var e=this;this.$q.dialog({title:"Konfirmasi Penghapusan Item",message:"Yakin akan menghapus data?",ok:{label:"Hapus",flat:!0,"no-caps":!0},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.productDelete(t)})).onCancel((function(){console.log("Cancel")})).onDismiss((function(){}))},getMargin:function(t){return t.buy_price&&t.price?t.price-t.buy_price:0},paginate:function(t){var e=this;this.isLoadmore=!0,Object(c["a"])().get(t).then((function(t){200==t.status&&e.$store.commit("product/PAGINATE_ADMIN_PRODUCTS",t.data.results)})).finally((function(){return e.isLoadmore=!1}))}}),created:function(){this.products.data.length<=this.products.per_page&&this.getAdminProducts()}},d=l,u=a("2877"),p=a("9989"),m=a("e359"),v=a("65c6"),_=a("9c40"),b=a("6ac5"),q=a("27f9"),g=a("eb85"),h=a("1c1c"),f=a("66e5"),k=a("4074"),y=a("068f"),w=a("0170"),x=a("e9c1"),C=a("c294"),S=a("72db"),P=a("05c0"),D=a("de5e"),I=a("24e8"),L=a("f09f"),Q=a("7f67"),A=a("eebe"),T=a.n(A),V=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=V.exports;T()(V,"components",{QPage:p["a"],QHeader:m["a"],QToolbar:v["a"],QBtn:_["a"],QToolbarTitle:b["a"],QInput:q["a"],QSeparator:g["a"],QList:h["a"],QItem:f["a"],QItemSection:k["a"],QImg:y["a"],QItemLabel:w["a"],QSlideTransition:x["a"],QFab:C["a"],QFabAction:S["a"],QTooltip:P["a"],QPageSticky:D["a"],QDialog:I["a"],QCard:L["a"]}),T()(V,"directives",{ClosePopup:Q["a"]})}}]);