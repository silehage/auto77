(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"8b24":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("RomanceTheme")],1)},n=[],r=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"romance",class:{"flex flex-center":t.loading,"bg-dark":t.$q.dark.isActive,"bg-grey-1":!t.$q.dark.isActive}},[e("q-header",{staticClass:"box-shadow",class:{"bg-secondary text-grey-1":t.$q.dark.isActive,"bg-white text-dark q-py-none":!t.$q.dark.isActive}},[e("InstallApp"),e("q-toolbar",{staticClass:"q-px-none flex justify-between items-center"},[t.shop?e("img",{attrs:{height:"55px",src:t.shop.logo_path?t.shop.logo_url:"/icon/icon-192x192.png"}}):t._e(),e("q-space"),e("div",{staticClass:"row items-center q-pr-sm"},[e("MenuRight")],1)],1)],1),t.loading?t._e():[t.sliders.data.length?e("div",{staticClass:"header-romance",attrs:{id:"slider"}},[e("slider",{attrs:{datas:t.sliders.data}})],1):t._e(),t.blocks.featured.length?e("div",{staticClass:"block-container q-pt-md text-center",attrs:{id:"featured"}},[e("featured-carousel",{attrs:{datas:t.blocks.featured}})],1):t._e(),t.categories&&t.categories.data.length>1?e("div",{staticClass:"auto-padding block-container",attrs:{id:"categories"}},[e("div",{staticClass:"block-heading"},[e("div",{staticClass:"block-title"},[e("h2",[t._v("Kategori")])])]),e("div",{staticClass:"block-content"},[e("category-carousel",{attrs:{datas:t.categories.data}})],1)]):t._e(),t.banner1?e("div",{staticClass:"banner block-container"},[e("img",{attrs:{src:t.banner1.image_url},on:{click:function(e){return t.goToPost(t.banner1)}}})]):t._e(),e("div",{staticClass:"page__padding"},[e("ProductSectionObserver")],1),t.banner2?e("div",{staticClass:"banner auto-padding-side block-container"},[e("img",{attrs:{src:t.banner2.image_url},on:{click:function(e){return t.goToPost(t.banner2)}}})]):t._e(),e("post-block",{attrs:{posts:t.posts}}),t.banner3?e("div",{staticClass:"banner auto-padding block-container"},[e("img",{attrs:{src:t.banner3.image_url},on:{click:function(e){return t.goToPost(t.banner3)}}})]):t._e(),e("footer-block")],e("q-inner-loading",{attrs:{showing:t.loading}},[e("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1)],2)},a=[],o=s("ded3"),c=s.n(o),l=(s("e260"),s("d3b7"),s("e6cf"),s("3ca3"),s("ddb0"),s("7db0"),s("ac1f"),s("841c"),s("2f62")),d=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBanner,expression:"isShowBanner"}],staticClass:"bg-white q-pa-xs"},[e("q-list",{attrs:{dense:""}},[e("q-item",[e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{icon:"eva-close",flat:"",color:"dark",dense:"",round:"",padding:"xs"},on:{click:t.closeBanner}})],1),e("q-item-section",{staticClass:"text-dark"},[e("q-item-label",{staticClass:"text-grey-9 text-right text-weight-bold"},[t._v("Unduh Aplikasi")])],1),e("q-item-section",{attrs:{side:""}},[e("img",{staticClass:"cursor-pointer",attrs:{src:"/static/app.svg",alt:"Unduh Aplikasi",height:"30"},on:{click:t.installNow}})])],1)],1)],1)])},u=[],p=s("852e"),h=s.n(p),g={data:function(){return{isShowBanner:!1}},mounted:function(){var t=this;setTimeout((function(){t.checkBanner()}),2e3)},computed:c()({},Object(l["e"])({shop:function(t){return t.shop}})),methods:{checkBanner:function(){if(this.shop&&this.shop.google_play_url){var t=h.a.get("__hideInstallBanner");void 0!=t&&0!=t||(this.isShowBanner=!0)}},installNow:function(){window.open(this.shop.google_play_url,"_blank")},closeBanner:function(){this.isShowBanner=!1,h.a.remove("__hideInstallBanner"),h.a.set("__hideInstallBanner",1,{expires:3})}}},f=g,b=s("2877"),m=s("1c1c"),v=s("66e5"),w=s("4074"),_=s("9c40"),y=s("0170"),k=s("eebe"),C=s.n(k),x=Object(b["a"])(f,d,u,!1,null,null,null),O=x.exports;C()(x,"components",{QList:m["a"],QItem:v["a"],QItemSection:w["a"],QBtn:_["a"],QItemLabel:y["a"]});var q=s("7559"),P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden"},[e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.datas,(function(t,s){return e("swiper-slide",{key:s},[e("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:t.src}})])})),1)],1)},S=[],I={name:"SwipperProduct",props:{datas:Array},data:function(){return{swiperOptions:{slidesPerView:1,autoHeight:!0,loop:!0}}}},j=I,B=Object(b["a"])(j,P,S,!1,null,null,null),A=B.exports,Q=function(){var t=this,e=t._self._c;return t.categories.data.length?e("div",{attrs:{id:"product-block"}},[t._l(t.categories.data,(function(s){return[s.is_front&&s.products_count>0?e("div",{key:s.id,staticClass:"block-container bg-linear"},[e("ProductBlockObserver",{attrs:{category:s}})],1):t._e()]}))],2):t._e()},$=[],R=(s("a4d3"),s("e01a"),function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"200px"},attrs:{id:"block-"+t.category.id}},[t.success?[e("div",{staticClass:"block-container bg-linear"},[t.ready?e("div",{staticClass:"q-mb-md"},[e("div",{staticClass:"row items-end justify-between"},[e("div",{staticClass:"block-title"},[e("h2",[t._v(t._s(t.category.title))])]),e("q-btn",{attrs:{flat:"","no-caps":"",padding:"4px",to:{name:"ProductCategory",params:{id:t.category.id}}}},[e("span",[t._v("Lihat Semua")]),e("q-icon",{attrs:{name:"eva-arrow-forward",size:"16px"}})],1)],1),t.category.description?e("div",{staticClass:"block-subtitle"},[t._v(t._s(t.category.description))]):t._e(),t.category.banner_src?e("div",{staticClass:"banner"},[e("router-link",{attrs:{to:{name:"ProductCategory",params:{id:t.category.category_id}}}},[e("img",{staticClass:"cursor-pointer",attrs:{src:t.category.banner_src,alt:t.category.title}})])],1):t._e()]):t._e(),t.ready?t._e():e("div",{staticClass:"row items-center justify-between q-px-xs"},[e("q-skeleton",{staticClass:"text-subtitle1",attrs:{type:"text",width:"25%",height:"50px"}}),e("q-skeleton",{staticClass:"text-subtitle1",attrs:{type:"text",width:"25%"}})],1),e("div",{staticClass:"block-content"},[e("swiper-product",{attrs:{products:t.products,ready:t.ready}})],1)])]:t._e()],2)}),W=[],z=s("c973"),T=s.n(z),V=(s("96cf"),s("159b"),function(){var t=this,e=t._self._c;return e("div",[t.ready?e("div",{staticClass:"overflow-hidden glide-product"},[e("vue-glide",{attrs:{options:t.glideOptions}},t._l(t.products,(function(t){return e("vue-glide-slide",{key:t.id,staticClass:"relative box-shadow"},[e("swiper-product-card",{attrs:{product:t}})],1)})),1)],1):e("div",{staticClass:"row"},t._l(2,(function(t){return e("ProductCardSkeleton",{key:t})})),1)])}),L=[],D=function(){var t=this,e=t._self._c;return e("q-card",{staticClass:"box-shadow full-height product-card"},[e("div",{staticClass:"relative"},[t.product.assets.length?e("q-img",{staticClass:"cursor-pointer",attrs:{src:t.product.assets[0].src,ratio:1},on:{click:function(e){return t.show(t.product.slug)}},scopedSlots:t._u([{key:"error",fn:function(){return[e("div",{staticClass:"absolute-full flex flex-center"},[t._v("\n          Cannot load image\n        ")])]},proxy:!0}],null,!1,3515547896)}):e("q-img",{staticClass:"cursor-pointer",attrs:{src:"/static/no_image.png",ratio:"1"},on:{click:function(e){return t.show(t.product.slug)}}}),e("div",{staticClass:"absolute",staticStyle:{bottom:"5px",right:"5px","z-index":"99"}},[e("favorite-button",{attrs:{product_id:t.product.id}})],1)],1),e("q-card-section",{staticClass:"relative overflow-hidden"},[e("div",{staticClass:"text-md ellipsis-2-lines q-mb-sm"},[t._v(t._s(t.product.title))]),e("div",{staticClass:"card-price-container"},[e("div",{staticClass:"card-price"},[e("span",{staticClass:"amount"},[t._v("Rp "+t._s(t.product.price))])])])])],1)},F=[],M=s("e6e2"),N={name:"ProductCard",props:{product:Object},components:{FavoriteButton:M["a"]},computed:{ratingSize:function(){return window.innerWidth<481?".9rem":"1.1rem"}},methods:{money:function(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)},show:function(t){this.$router.push({name:"ProductShow",params:{slug:t}})}}},E=N,G=s("f09f"),H=s("068f"),J=s("a370"),U=Object(b["a"])(E,D,F,!1,null,null,null),K=U.exports;C()(U,"components",{QCard:G["a"],QImg:H["a"],QCardSection:J["a"]});var X=s("a437"),Y={name:"GlideProduct",props:{products:Array,ready:Boolean},components:{SwiperProductCard:K,ProductCardSkeleton:X["a"]},data:function(){return{pageWidth:600,glideOptions:{rewind:!1,perView:2,gap:8,bound:!0,peek:{before:0,after:50}}}},methods:{pageResize:function(){this.pageWidth=window.innerWidth}},created:function(){this.pageWidth=window.innerWidth,window.addEventListener("resize",this.pageResize),this.pageWidth>=600?(this.glideOptions.perView=2,this.glideOptions.peek.after=50):this.pageWidth>480?(this.glideOptions.gap=5,this.glideOptions.peek.after=20):this.pageWidth>301?(this.glideOptions.gap=5,this.glideOptions.peek.after=0):(this.glideOptions.perView=1,this.glideOptions.gap=4,this.glideOptions.peek.after=100)},beforeDestroy:function(){window.removeEventListener("resize",this.pageResize)}},Z=Y,tt=Object(b["a"])(Z,V,L,!1,null,null,null),et=tt.exports,st=s("758b"),it={props:["category"],components:{SwiperProduct:et},data:function(){return{loading:!1,ready:!1,products:[],success:!0}},computed:c()({},Object(l["e"])({config:function(t){return t.config},categories:function(t){return t.category.categories}})),mounted:function(){this.intersecObserve()},methods:{intersecObserve:function(){var t=this;this.loading=!0;var e=document.getElementById("block-"+this.category.id),s={rootMargin:"0px",threshold:0},i=function(e){e.forEach((function(e){e.isIntersecting&&(t.getProducts(),n.unobserve(e.target))}))},n=new IntersectionObserver(i,s);n.observe(e)},getProducts:function(){var t=this;return T()(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(st["a"])().get("getProductsByCategory/"+t.category.id+"?limit=10");case 2:s=e.sent,200==s.status?(t.products=s.data.data,t.ready=!0,t.success=!0):t.success=!1,t.loading=!0;case 5:case"end":return e.stop()}}),e)})))()}}},nt=it,rt=s("0016"),at=s("293e"),ot=Object(b["a"])(nt,R,W,!1,null,null,null),ct=ot.exports;C()(ot,"components",{QBtn:_["a"],QIcon:rt["a"],QSkeleton:at["a"]});var lt={props:["products"],components:{ProductBlockObserver:ct},computed:c()({},Object(l["e"])({categories:function(t){return t.category.categories}}))},dt=lt,ut=Object(b["a"])(dt,Q,$,!1,null,null,null),pt=ut.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden"},[e("vue-glide",{attrs:{options:t.carouselOptions}},t._l(t.datas,(function(s){return e("vue-glide-slide",{key:s.id},[e("div",{staticClass:"column col items-center text-center q-gutter-y-xs featured cursor-pointer",on:{click:function(e){return t.showPost(s)}}},[s.image?e("img",{staticStyle:{"object-fit":"cover","border-radius":"50%",border:"2px solid #fff"},attrs:{src:s.image_url,alt:"",width:"100",height:"100"}}):t._e(),e("div",{staticClass:"text-sm text-weight-medium q-mt-sm"},[t._v(t._s(s.label))]),s.description?e("div",{staticClass:"text-grey-7 text-auto description"},[t._v(t._s(s.description))]):t._e()])])})),1)],1)},gt=[],ft={name:"CategoryCarousel",props:{datas:Array},data:function(){return{carouselOptions:{rewind:!1,perView:3,gap:5,bound:!0}}},methods:{showPost:function(t){t.post&&this.$router.push({name:"FrontPostShow",params:{slug:t.post.slug}})}}},bt=ft,mt=Object(b["a"])(bt,ht,gt,!1,null,null,null),vt=mt.exports,wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden"},[e("vue-glide",{attrs:{options:t.glideOptions}},t._l(t.datas,(function(s){return e("vue-glide-slide",{key:s.id},[e("div",{staticClass:"column full-height relative bg-white wisata-card"},[s.filename?e("q-img",{staticClass:"cursor-pointer rounded-borders",attrs:{src:s.src,ratio:"1"},on:{click:function(e){return t.openCategory(s.id)}}}):t._e()],1),e("div",{staticClass:"text-category-auto text-center q-mt-xs"},[t._v(t._s(s.title))])])})),1)],1)},_t=[],yt={name:"CategoryCarousel",props:{datas:Array},data:function(){return{glideOptions:{rewind:!1,perView:4,gap:12,bound:!0}}},created:function(){this.setGlideOptions()},methods:{setGlideOptions:function(){this.datas.length<=3?this.glideOptions.perView=3:window.innerWidth>600?(this.glideOptions.perView=5,this.glideOptions.gap=16):window.innerWidth<360&&(this.glideOptions.perView=3,this.glideOptions.gap=8)},openCategory:function(t){t&&this.$router.push({name:"ProductCategory",params:{id:t}})}}},kt=yt,Ct=Object(b["a"])(kt,wt,_t,!1,null,null,null),xt=Ct.exports;C()(Ct,"components",{QImg:H["a"]});var Ot={name:"PageIndex",components:{MenuRight:q["a"],Slider:A,ProductSectionObserver:pt,featuredCarousel:vt,categoryCarousel:xt,InstallApp:O,"post-block":function(){return Promise.all([s.e(1),s.e(45)]).then(s.bind(null,"d29a"))},"footer-block":function(){return s.e(44).then(s.bind(null,"bae6"))}},data:function(){return{viewMode:"grid",search:"",slide:0,showApp:!1}},computed:c()(c()({},Object(l["e"])({blocks:function(t){return t.block.blocks},sliders:function(t){return t.slider.sliders},categories:function(t){return t.category.categories},products:function(t){return t.product.initial_products},shop:function(t){return t.shop},loading:function(t){return t.loading},posts:function(t){return t.post.initialPost},config:function(t){return t.config}})),{},{cheight:function(){this.$q.screen.width;return this.$q.screen.width>600?"400px":this.$q.screen.width/1.5+"px"},banner1:function(){if(this.blocks.banner.length){var t=this.blocks.banner.find((function(t){return 1==t.weight}));if(void 0!=t)return t}return null},banner2:function(){if(this.blocks.banner.length){var t=this.blocks.banner.find((function(t){return 2==t.weight}));if(void 0!=t)return t}return null},banner3:function(){if(this.blocks.banner.length){var t=this.blocks.banner.find((function(t){return 3==t.weight}));if(void 0!=t)return t}return null}}),methods:c()(c()({},Object(l["b"])(["getInitialData"])),{},{showProductByCategory:function(t){this.$router.push({name:"ProductCategory",params:{id:t}})},searchNow:function(){this.search&&""!=this.search&&this.$router.push({name:"ProductSearch",query:{q:this.search}})},goToPost:function(t){t.post&&this.$router.push({name:"FrontPostShow",params:{slug:t.post.slug}})},closeApp:function(){this.showApp=!1,h.a.set("hideApp",!0,{expires:3})},openInApp:function(){window.open(this.shop.google_play_url)}}),mounted:function(){var t=this;this.config&&(this.viewMode=this.config.home_view_mode),setTimeout((function(){t.shop&&t.shop.google_play_url&&(h.a.get("hideApp")||(t.showApp=!0))}),5e3)},created:function(){this.shop&&this.products.data.length&&!this.$route.query.load||this.getInitialData()}},qt=Ot,Pt=s("9989"),St=s("e359"),It=s("65c6"),jt=s("2c91"),Bt=s("74f7"),At=s("e669"),Qt=Object(b["a"])(qt,r,a,!1,null,null,null),$t=Qt.exports;C()(Qt,"components",{QPage:Pt["a"],QHeader:St["a"],QToolbar:It["a"],QSpace:jt["a"],QInnerLoading:Bt["a"],QSpinnerFacebook:At["a"]});var Rt={name:"HomePage",components:{RomanceTheme:$t}},Wt=Rt,zt=Object(b["a"])(Wt,i,n,!1,null,null,null);e["default"]=zt.exports}}]);