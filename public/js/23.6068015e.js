(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"368c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-header",[a("q-toolbar",[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[t._v("\n       List User\n      ")])],1)],1),a("div",{staticClass:"q-pa-md row justify-between items-center q-gutter-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{square:"",outlined:"",dense:"",debounce:"1000",placeholder:"Ketik nama, email atau nomor telpon user"},on:{input:t.findUser},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("div",{staticClass:"col-auto",staticStyle:{width:"60px"}},[a("q-input",{attrs:{square:"",outlined:"",dense:"",label:"Show",type:"number",min:"4"},model:{value:t.take,callback:function(e){t.take=e},expression:"take"}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{label:"reset",unelevated:"",color:"primary"},on:{click:t.reset}})],1)]),a("div",[a("q-list",{attrs:{separator:""}},[a("q-item",[a("q-item-section",{attrs:{side:""}},[t._v("#")]),a("q-item-section",[t._v("Info User")]),a("q-item-section",{attrs:{side:""}},[t._v("Aksi")])],1),t._l(t.users,(function(e,s){return a("q-item",{key:s},[a("q-item-section",{attrs:{side:"",top:""}},[t._v(t._s(s+1))]),a("q-item-section",{attrs:{top:""}},[a("div",[t._v(t._s(e.name))]),a("div",[t._v(t._s(e.email))]),a("div",[t._v(t._s(e.phone))])]),a("q-item-section",{staticClass:"q-gutter-sm",attrs:{side:""}},[a("q-btn",{attrs:{size:"sm",color:"red-6",round:"",unelevated:"",icon:"delete"},on:{click:function(a){return t.handleDeleteUser(e.id)}}},[a("q-tooltip",[t._v("\n                Hapus User\n              ")])],1)],1)],1)})),t.userNotAvailable?a("q-item",[a("q-item-section",{staticClass:"text-center q-py-md"},[t._v("\n            Tidak ada data\n          ")])],1):t._e()],2),a("div",{staticClass:"q-py-md flex justify-center"},[t.canLoad?a("q-btn",{attrs:{loading:t.load,label:"Loadmore",color:"primary",outline:""},on:{click:t.loadUser}}):t._e()],1)],1)],1)},n=[],i=a("448a"),o=a.n(i),r=(a("d3b7"),a("e6cf"),a("a79d"),a("99af"),a("ac1f"),a("841c"),a("758b")),l={name:"UserList",data:function(){return{users:[],take:10,canLoad:!1,search:"",userNotAvailable:!1,deleteId:null,load:!1}},mounted:function(){this.users.length<this.take&&this.getUsers()},computed:{isDesktop:function(){return window.innerWidth>600}},methods:{getUsers:function(){var t=this;this.$q.loading.show(),Object(r["a"])().get("userList?take=".concat(this.take,"&skip=").concat(this.users.length)).then((function(e){200==e.status&&(t.users=e.data.results,t.canLoad=e.data.results.length==t.take,t.userNotAvailable=!t.users.length)})).finally((function(){t.$q.loading.hide()}))},loadUser:function(){var t=this;this.load=!0,Object(r["a"])().get("userList?take=".concat(this.take,"&skip=").concat(this.users.length)).then((function(e){200==e.status&&(t.users=[].concat(o()(t.users),o()(e.data.results)),t.canLoad=e.data.results.length==t.take,t.userNotAvailable=!t.users.length)})).finally((function(){t.load=!1}))},findUser:function(){var t=this;this.search&&Object(r["a"])().get("findUser/"+this.search).then((function(e){200==e.status&&(t.users=e.data.results,t.userNotAvailable=!t.users.length)}))},reset:function(){this.users=[],this.search="",this.getUsers()},handleDeleteUser:function(t){var e=this;1!=t?this.$q.dialog({title:"Yakin akan menghapus user?",message:"Data yang di hapus tidak dapat dikembalikan",cancel:!0}).onOk((function(){e.deleteUser(t)})):this.$q.notify({type:"negative",message:"User admin tidak bisa di hapus"})},handleDisableVendor:function(t){var e=this;this.$q.dialog({title:"Yakin akan NON aktifkan toko?",cancel:!0}).onOk((function(){e.disableVendor(t)}))},handleEnableVendor:function(t){var e=this;this.$q.dialog({title:"Yakin akan mengaktifkan toko?",cancel:!0}).onOk((function(){e.enableVendor(t)}))},disableVendor:function(t){var e=this;Object(r["a"])().post("setVendorStatus",{id:t,status:"disable"}).then((function(t){200==t.status&&e.reset()}))},enableVendor:function(t){var e=this;Object(r["a"])().post("setVendorStatus",{id:t,status:"enable"}).then((function(t){200==t.status&&e.reset()}))},deleteUser:function(t){var e=this;this.$q.loading.show(),Object(r["a"])().delete("user/"+t).then((function(t){200==t.status&&e.reset()})).finally((function(){e.$q.loading.hide()}))}}},c=l,u=a("2877"),d=a("9989"),h=a("e359"),f=a("65c6"),k=a("9c40"),b=a("6ac5"),m=a("27f9"),v=a("1c1c"),p=a("66e5"),q=a("4074"),g=a("05c0"),_=a("2eeb"),U=a("eebe"),w=a.n(U),y=Object(u["a"])(c,s,n,!1,null,null,null);e["default"]=y.exports;w()(y,"components",{QPage:d["a"],QHeader:h["a"],QToolbar:f["a"],QBtn:k["a"],QToolbarTitle:b["a"],QInput:m["a"],QList:v["a"],QItem:p["a"],QItemSection:q["a"],QTooltip:g["a"]}),w()(y,"directives",{GoBack:_["a"]})}}]);