(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{a21e:function(t,a,e){"use strict";e.r(a);e("ac1f"),e("841c");var s=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"q-pb-xl",class:{"bg-grey-9":t.$q.dark.isActive}},[a("q-header",{staticClass:"text-primary box-shadow",class:{"bg-dark text-grey-1":t.$q.dark.isActive,"bg-white":!t.$q.dark.isActive}},[a("q-toolbar",{staticClass:"header__padding"},[a("q-btn",{attrs:{to:{name:"Home"},flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",{staticClass:"text-weight-bold brand"},[t._v("Cari Produk")])],1)],1),a("div",{staticClass:"q-px-md q-pt-md"},[a("div",{staticClass:"col border"},[a("q-input",{ref:"input",attrs:{outlined:"",dense:"",color:"grey-2",autofocus:"",placeholder:"ketik nama produk"},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchProduct.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"eva-search"},on:{click:t.searchProduct}})]},proxy:!0}]),model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t.products.ready&&t.products.available?[a("div",{staticClass:"q-pt-sm"},[t._v('Produk hasil pencarian "'),a("b",[t._v(t._s(t.searchTitle))]),t._v('"')])]:t._e()],2),t.products.data.length?[a("product-section",{attrs:{products:t.products}})]:t._e(),t.products.available?t._e():[a("div",{staticClass:"text-center column"},[a("div",{staticClass:"text-h6"},[t._v("Opps..")]),a("div",{},[t._v("Tidak ada produk dengan kata kunci "),a("b",[t._v('"'+t._s(t.searchTitle)+'"')])])])],a("q-inner-loading",{attrs:{showing:t.loading}},[a("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1),t.products&&t.products.links?a("div",{staticClass:"flex justify-center q-py-lg"},[t.products.links.next?a("q-btn",{attrs:{label:"loadmore",color:"primary",outline:"",loading:t.isLoadmore},on:{click:function(a){return t.paginate(t.products.links.next)}}}):t._e()],1):t._e()],2)},r=[],o=e("448a"),n=e.n(o),c=e("ded3"),i=e.n(c),d=(e("d3b7"),e("e6cf"),e("a79d"),e("99af"),e("53a2")),l=e("2f62"),u=e("758b"),p={name:"ProductSearch",components:{ProductSection:d["a"]},data:function(){return{loading:!1,search:"",searchTitle:"",products:{data:[],ready:!1,available:!0,links:null,meta:null},isLoadmore:!1}},methods:i()(i()({},Object(l["b"])("product",["searchProducts"])),{},{searchProduct:function(){var t=this;this.loading=!0,this.$refs.input.blur(),this.searchProducts(this.search).then((function(a){200==a.status&&(t.products.data=a.data.data,t.products.links=a.data.links,t.products.meta=a.data.meta,t.products.available=!!t.products.data.length)})).finally((function(){t.products.ready=!0,t.loading=!1,t.searchTitle=t.search,t.search=""}))},paginate:function(t){var a=this;this.isLoadmore=!0,Object(u["a"])().get(t).then((function(t){200==t.status&&(a.products.data=[].concat(n()(a.products.data),n()(t.data.data)),a.products.links=t.data.links,a.products.meta=t.data.meta)})).finally((function(){return a.isLoadmore=!1}))}}),mounted:function(){if(this.$route.query.q){var t=this.$route.query.q;t&&(this.search=t,this.searchProduct())}},created:function(){this.$store.commit("product/CLEAR_PRODUCT_SEARCH")}},h=p,b=e("2877"),f=e("9989"),k=e("e359"),m=e("65c6"),v=e("9c40"),g=e("6ac5"),y=e("27f9"),q=e("0016"),_=e("74f7"),x=e("e669"),C=e("eebe"),P=e.n(C),w=Object(b["a"])(h,s,r,!1,null,null,null);a["default"]=w.exports;P()(w,"components",{QPage:f["a"],QHeader:k["a"],QToolbar:m["a"],QBtn:v["a"],QToolbarTitle:g["a"],QInput:y["a"],QIcon:q["a"],QInnerLoading:_["a"],QSpinnerFacebook:x["a"]})}}]);