(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{bc2a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-grey-2 q-pb-lg"},[a("q-header",[a("q-toolbar",[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"eva-arrow-back"}}),a("q-toolbar-title",[t._v("\n       Konfigurasi Aplikasi\n      ")])],1)],1),t.config?a("div",{staticClass:"q-gutter-y-lg q-pt-md"},[a("tampilan"),a("theming"),a("checkout-config"),a("service-fee"),a("shipping"),a("LocalShipping"),a("notification"),a("tripay"),a("system-update")],1):t._e(),a("q-inner-loading",{attrs:{showing:t.loading}})],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Ekspedisi")]),a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.formdata.is_shipping_active?"Active":"Disabled","left-label":"",color:"green-7"},model:{value:t.formdata.is_shipping_active,callback:function(e){t.$set(t.formdata,"is_shipping_active",e)},expression:"formdata.is_shipping_active"}})],1),a("div",{staticClass:"text-caption text-grey-7"},[a("div",[t._v("Pengaturan ongkir otomatis by Rajaongkir")]),a("div",[t._v("Silahkan daftar di rajaongkir.com untuk mendapatkan apikey")])]),a("div",{staticClass:"q-gutter-y-sm q-py-md"},[a("q-select",{attrs:{label:"Raja Ongkir Tipe",filled:"",options:t.rajaongkirtypes},on:{input:t.selectCourierType},model:{value:t.formdata.rajaongkir_type,callback:function(e){t.$set(t.formdata,"rajaongkir_type",e)},expression:"formdata.rajaongkir_type"}}),a("q-input",{attrs:{filled:"",label:"Raja Ongkir API KEY"},model:{value:t.formdata.rajaongkir_apikey,callback:function(e){t.$set(t.formdata,"rajaongkir_apikey",e)},expression:"formdata.rajaongkir_apikey"}})],1),t.config&&t.config.is_shippable?a("div",{staticClass:"q-mt-lg"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-py-sm"},[t._v("Pengaturan Gudang Pengiriman")]),a("div",{staticClass:"cursor-pointer q-pa-md full-width border q-filled",on:{click:t.changeWarehouse}},[t._v(t._s(t.warehouseTitle()))]),t.theCouriers.length?a("div",{staticClass:"q-mt-md"},[a("div",{staticClass:"text-grey-8 text-weight-medium q-py-md"},[t._v("Pengaturan Kurir Aktif")]),a("div",{staticClass:"q-gutter-sm"},t._l(t.theCouriers,(function(e,i){return a("q-btn",{key:i,attrs:{unelevated:"",rounded:"",size:"10px",color:t.isCourierActive(e)?"green-5":"grey-5",label:e},on:{click:function(a){return t.handleSelectCourier(e)}}})})),1)]):t._e()]):t._e()]),a("q-card-actions",{staticClass:"q-pa-md justify-end"},[a("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"blue-7"}})],1)],1)],1),a("q-dialog",{model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("q-card",{staticStyle:{width:"100%","max-width":"500px"}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-md text-weight-bold q-mb-sm"},[t._v("Pilih Gudang Pengiriman")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close"}})],1),a("div",{staticClass:"q-pa-sm q-gutter-y-sm"},[a("q-input",{ref:"warehouse",attrs:{loading:t.searchLoading&&"warehouse"==t.searchType,placeholder:"Ketik nama kecamatan",debounce:"1000"},on:{input:t.searchWarehouseData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["warehouse"==t.searchType&&t.subdistrictOptions.length?a("div",{staticClass:"relative bg-grey-2",staticStyle:{"min-height":"100px","max-height":"300px","overflow-y":"auto"}},[a("q-list",t._l(t.subdistrictOptions,(function(e){return a("q-item",{key:e.id,attrs:{clickable:""},on:{click:function(a){return t.selectSubdistrict(e)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" - "+t._s(e.type)+" "+t._s(e.city))])],1)],1)})),1),a("q-inner-loading",{attrs:{showing:t.searchLoading}})],1):t._e()])],1)])],1)],1)],1)},o=[],r=(a("ac1f"),a("1276"),a("99af"),a("caad"),a("2532"),a("4de4"),a("a15b"),a("841c"),a("d3b7"),a("e6cf"),a("a79d"),a("758b")),c={name:"Ekspedisi",data:function(){return{codListModal:!1,modal:!1,rajaongkirtypes:["starter","basic","pro"],subdistrictOptions:[],search:"",isWarehouseSearch:!1,searchType:"cod",searchLoading:!1,formdata:{is_shipping_active:!1,rajaongkir_type:"",rajaongkir_apikey:"",warehouse_id:"",warehouse_address:null,rajaongkir_couriers:""}}},computed:{courierHasSelect:function(){return this.formdata.rajaongkir_couriers?this.formdata.rajaongkir_couriers.split(","):[]},theCouriers:function(){return"pro"==this.formdata.rajaongkir_type?this.config.courier_available.pro:"basic"==this.formdata.rajaongkir_type?this.config.courier_available.basic:this.config.courier_available.starter},config:function(){return this.$store.state.config}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{changeWarehouse:function(){var t=this;this.modal=!0,setTimeout((function(){t.$refs.warehouse.focus()}),300)},warehouseTitle:function(){return this.formdata.warehouse_address?"".concat(this.formdata.warehouse_address.subdistrict_name," - ").concat(this.formdata.warehouse_address.type," ").concat(this.formdata.warehouse_address.city,", ").concat(this.formdata.warehouse_address.province):"Pilih Gudang Pengiriman"},setConfig:function(t){this.formdata.is_shipping_active=t.is_shipping_active,this.formdata.rajaongkir_type=t.rajaongkir_type,this.formdata.rajaongkir_apikey=t.rajaongkir_apikey,this.formdata.rajaongkir_couriers=t.rajaongkir_couriers,this.formdata.warehouse_address=t.warehouse_address,this.formdata.warehouse_id=t.warehouse_id},selectCourierType:function(){this.formdata.rajaongkir_couriers=""},isCourierActive:function(t){return!!this.courierHasSelect.length&&!!this.courierHasSelect.includes(t)},handleSelectCourier:function(t){var e=this.courierHasSelect;e.includes(t)?e=e.filter((function(e){return e!=t})):e.push(t),e.length?this.formdata.rajaongkir_couriers=e.join(","):this.formdata.rajaongkir_couriers=""},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},submitWarehouse:function(){this.updateData()},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectSubdistrict:function(t){this.formdata.warehouse_id=t.city_id,this.formdata.warehouse_address=t,this.modal=!1,this.subdistrictOptions=[],this.search=""},isInWarehouseItem:function(t){return this.formdata.warehouse_address.subdistrict_id==t.subdistrict_id},searchWarehouseData:function(){this.searchType="warehouse",this.findSubdistrict()},getAdminConfig:function(){var t=this;Object(r["a"])().get("adminConfig").then((function(e){200==e.status&&t.setConfig(e.data.results)}))},findSubdistrict:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("shipping/findSubdistrict/"+this.search).then((function(e){200==e.status&&(e.data.success?t.subdistrictOptions=e.data.results:t.$q.notify({type:"negative",message:e.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}},l=c,d=a("2877"),u=a("0378"),m=a("f09f"),f=a("a370"),p=a("9564"),g=a("ddd8"),h=a("27f9"),_=a("9c40"),v=a("4b7e"),b=a("24e8"),y=a("1c1c"),q=a("66e5"),k=a("4074"),C=a("0170"),x=a("74f7"),w=a("7f67"),Q=a("eebe"),$=a.n(Q),j=Object(d["a"])(l,n,o,!1,null,null,null),S=j.exports;$()(j,"components",{QForm:u["a"],QCard:m["a"],QCardSection:f["a"],QToggle:p["a"],QSelect:g["a"],QInput:h["a"],QBtn:_["a"],QCardActions:v["a"],QDialog:b["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:C["a"],QInnerLoading:x["a"]}),$()(j,"directives",{ClosePopup:w["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Basic")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk dan social proof")])]),a("q-list",[a("q-item",[a("q-item-section",[a("q-item-label",[t._v("\n          Tampilan produk beranda\n        ")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"q-gutter-x-sm"},[a("q-btn",{attrs:{label:"Grid Mode",size:"sm",unelevated:"",color:"grid"==t.form.home_view_mode?"green-7":"grey-6",dense:"",icon:"grid_view"},on:{click:function(e){return t.changeHomeViewMode("grid")}}},[a("q-tooltip",[t._v("\n              Grid Mode\n            ")])],1),a("q-btn",{attrs:{label:"List Mode",size:"sm",unelevated:"",color:"list"==t.form.home_view_mode?"green-7":"grey-6",dense:"",icon:"eva-list"},on:{click:function(e){return t.changeHomeViewMode("list")}}},[a("q-tooltip",[t._v("\n              List Mode\n            ")])],1)],1)])],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("\n         Tampilan produk katalog\n        ")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"q-gutter-x-sm"},[a("q-btn",{attrs:{label:"Grid Mode",size:"sm",unelevated:"",color:"grid"==t.form.product_view_mode?"green-7":"grey-6",dense:"",icon:"grid_view"},on:{click:function(e){return t.changeProductViewMode("grid")}}},[a("q-tooltip",[t._v("\n              Grid Mode\n            ")])],1),a("q-btn",{attrs:{label:"List Mode",size:"sm",unelevated:"",color:"list"==t.form.product_view_mode?"green-7":"grey-6",dense:"",icon:"eva-list"},on:{click:function(e){return t.changeProductViewMode("list")}}},[a("q-tooltip",[t._v("\n              List Mode\n            ")])],1)],1)])],1),a("q-item",{staticClass:"q-mt-md"},[a("q-item-section",[a("q-item-label",{staticClass:"text-weight-medium"},[t._v("Social Proof Popup")]),a("div",{staticClass:"q-mb-sm text-caption text-grey-7 q-mt-sm"},[t._v("\n           Pengaturan social proof notifikasi.\n         ")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-toggle",{attrs:{label:t.form.is_notifypro?"Active":"Disabled","left-label":"",color:"green-6"},model:{value:t.form.is_notifypro,callback:function(e){t.$set(t.form,"is_notifypro",e)},expression:"form.is_notifypro"}})],1)],1),t.form.is_notifypro?a("q-item",[a("q-item-section",[a("q-input",{attrs:{outlined:"",dense:"",label:"Jeda Waktu Tayang",mask:"###",hint:"Popup akan tayang setiap "+t.form.notifypro_interval+" Detik"},model:{value:t.form.notifypro_interval,callback:function(e){t.$set(t.form,"notifypro_interval",e)},expression:"form.notifypro_interval"}})],1),a("q-item-section",[a("q-input",{attrs:{outlined:"",dense:"",label:"Durasi Penayangan",mask:"###",hint:"Popup akan tayang selama "+t.form.notifypro_timeout+" Detik"},model:{value:t.form.notifypro_timeout,callback:function(e){t.$set(t.form,"notifypro_timeout",e)},expression:"form.notifypro_timeout"}})],1)],1):t._e()],1),a("q-card-section",{staticClass:"flex justify-end"},[a("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"blue-7"},on:{click:t.saveTampilan}})],1)],1)},O=[],T=a("ded3"),P=a.n(T),L={data:function(){return{form:{home_view_mode:"",product_view_mode:"",is_notifypro:!1,notifypro_interval:20,notifypro_timeout:4}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.form.product_view_mode=this.config.product_view_mode,this.form.home_view_mode=this.config.home_view_mode,this.form.is_notifypro=this.config.is_notifypro,this.form.notifypro_interval=this.config.notifypro_interval,this.form.notifypro_timeout=this.config.notifypro_timeout},methods:{changeHomeViewMode:function(t){this.form.home_view_mode=t},changeProductViewMode:function(t){this.form.product_view_mode=t},saveTampilan:function(){var t=this;P()(P()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(e){200==e.status&&t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))}}},I=L,A=a("05c0"),B=Object(d["a"])(I,D,O,!1,null,null,null),E=B.exports;$()(B,"components",{QCard:m["a"],QCardSection:f["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:C["a"],QBtn:_["a"],QTooltip:A["a"],QToggle:p["a"],QInput:h["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Penaturan Tema")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tema dan warna dasar situs")])]),a("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("q-list",[a("q-item",[a("q-item-section",[a("q-item-label",[t._v("Tema")])],1),a("q-item-section",{attrs:{side:""}},[a("q-select",{attrs:{outlined:"",dense:"",options:t.themes},model:{value:t.form.theme,callback:function(e){t.$set(t.form,"theme",e)},expression:"form.theme"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("Warna")])],1),a("q-item-section",{attrs:{side:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.theme_color,expression:"form.theme_color"}],ref:"color",staticStyle:{width:"110px",height:"20px"},attrs:{type:"color"},domProps:{value:t.form.theme_color},on:{input:function(e){e.target.composing||t.$set(t.form,"theme_color",e.target.value)}}})])],1)],1),a("q-card-section",{staticClass:"flex justify-end"},[a("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"blue-7"}})],1)],1)],1)},G=[],z={data:function(){return{form:{theme:"",theme_color:""}}},computed:{themes:function(){return this.$store.state.themes},config:function(){return this.$store.state.config}},watch:{"form.theme_color":function(t){this.setColor(t)}},mounted:function(){this.config&&(this.form.theme=this.config.theme,this.form.theme_color=this.config.theme_color)},methods:{updateData:function(){var t=this;P()(P()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil menyimpan pengaturan"}),t.$store.dispatch("getConfig")}))},handleChangeColor:function(){this.$refs.color.click()},setColor:function(t){this.$store.commit("SET_THEME_COLOR",t)}}},U=z,R=Object(d["a"])(U,M,G,!1,null,null,null),K=R.exports;$()(R,"components",{QCard:m["a"],QCardSection:f["a"],QForm:u["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:C["a"],QSelect:g["a"],QBtn:_["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Checkout")])])]),a("q-list",[a("q-item",[a("q-item-section",[a("q-item-label",[t._v("Whatsapp Checkout")]),a("q-item-label",{attrs:{caption:""}},[t._v("Memungkinan user untuk bisa checkout langsung via whatsapp ( Order tidak tersimpan di database )")])],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{label:t.form.is_whatsapp_checkout?"Active":"Disabled","left-label":"",color:"green-6"},model:{value:t.form.is_whatsapp_checkout,callback:function(e){t.$set(t.form,"is_whatsapp_checkout",e)},expression:"form.is_whatsapp_checkout"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("Guest Checkout")]),a("q-item-label",{attrs:{caption:""}},[t._v("Memunginkan checkout tanpa harus login / register")])],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{label:t.form.is_guest_checkout?"Active":"Disabled","left-label":"",color:"green-6"},model:{value:t.form.is_guest_checkout,callback:function(e){t.$set(t.form,"is_guest_checkout",e)},expression:"form.is_guest_checkout"}})],1)],1)],1),a("div",{staticClass:"flex justify-end q-pa-md"},[a("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"blue-7"},on:{click:t.updateData}})],1)],1)},H=[],W={data:function(){return{form:{is_whatsapp_checkout:!1,is_guest_checkout:!0}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;P()(P()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.is_whatsapp_checkout=this.config.is_whatsapp_checkout,this.form.is_guest_checkout=this.config.is_guest_checkout)}}},V=W,F=Object(d["a"])(V,N,H,!1,null,null,null),Y=F.exports;$()(F,"components",{QCard:m["a"],QCardSection:f["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:C["a"],QToggle:p["a"],QBtn:_["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Telegram Notifikasi")]),a("div",{staticClass:"q-px-sm rounded-borders text-white",class:t.config&&t.config.is_telegram_ready?"bg-green-7":"bg-grey-6"},[t._v(t._s(t.config&&t.config.is_telegram_ready?"Active":"Disabled"))])]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Notifikasi order untuk admin via telegram")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Silahkan buat bot di telegram untuk mendapatkan token, serta dapatkan user id di bot @infouserid")]),a("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("div",{staticClass:"q-gutter-y-sm q-mt-md"},[a("q-input",{attrs:{filled:"",label:"Telegram Bot Token"},model:{value:t.form.telegram_bot_token,callback:function(e){t.$set(t.form,"telegram_bot_token",e)},expression:"form.telegram_bot_token"}}),a("q-input",{attrs:{filled:"",label:"Telegram user Id"},model:{value:t.form.telegram_user_id,callback:function(e){t.$set(t.form,"telegram_user_id",e)},expression:"form.telegram_user_id"}})],1),a("div",{staticClass:"flex justify-end q-mt-md"},[a("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"blue-7"}})],1)])],1)],1)},X=[],Z={data:function(){return{form:{telegram_bot_token:"",telegram_user_id:""}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;P()(P()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.telegram_bot_token=this.config.telegram_bot_token,this.form.telegram_user_id=this.config.telegram_user_id)}}},tt=Z,et=Object(d["a"])(tt,J,X,!1,null,null,null),at=et.exports;$()(et,"components",{QCard:m["a"],QCardSection:f["a"],QForm:u["a"],QInput:h["a"],QBtn:_["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md bg-white box-shadow"},[a("div",{staticClass:"flex items-center justify-between q-mb-xs"},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Tripay Payment Gateway")]),a("div",[a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.form.is_payment_gateway?"Active":"Disabled","left-label":"",color:"green-7"},on:{input:t.checkIsReady},model:{value:t.form.is_payment_gateway,callback:function(e){t.$set(t.form,"is_payment_gateway",e)},expression:"form.is_payment_gateway"}})],1)]),a("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateDate(e)}}},[a("div",{staticClass:"q-mb-md text-grey-7 text-caption"},[a("div",[t._v("Pengaturan Tripay payment Gateway, Silahkan daftar di TRIPAY untuk mendapatkan Kredensial, Anda dapat mendaftar melalui link berikut "),a("span",{staticClass:"cursor-pointer bg-green-1 text-green-9 q-px-xs q-px-xs",on:{click:t.daftarTripay}},[t._v("https://tripay.co.id/register")])])]),a("div",{staticClass:"q-pt-sm"},[a("div",{staticClass:"q-gutter-y-sm"},[a("q-select",{attrs:{label:"ENV MODE",filled:"",options:t.tripayModes},model:{value:t.form.tripay_mode,callback:function(e){t.$set(t.form,"tripay_mode",e)},expression:"form.tripay_mode"}}),a("q-input",{attrs:{filled:"",label:"Tripay MERCHANT CODE"},model:{value:t.form.tripay_merchant_code,callback:function(e){t.$set(t.form,"tripay_merchant_code",e)},expression:"form.tripay_merchant_code"}}),a("q-input",{attrs:{filled:"",label:"Tripay API KEY"},model:{value:t.form.tripay_api_key,callback:function(e){t.$set(t.form,"tripay_api_key",e)},expression:"form.tripay_api_key"}}),a("q-input",{attrs:{filled:"",label:"Tripay PRIVATE KEY"},model:{value:t.form.tripay_private_key,callback:function(e){t.$set(t.form,"tripay_private_key",e)},expression:"form.tripay_private_key"}}),t.config.is_payment_gateway?a("div",[a("q-input",{attrs:{filled:"",value:t.config.tripay_callback,readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-btn",{attrs:{icon:"content_copy",unelevated:"",size:"18px",padding:"4px",flat:""},on:{click:t.handleClickTripayCallback}})]},proxy:!0}],null,!1,111693530)}),a("div",{staticClass:"text-xs text-grey-8 q-pa-xs"},[t._v("Salin URL callback ke dashboard merchant tripay")])],1):t._e()],1)]),a("div",{staticClass:"flex justify-end q-mt-md"},[a("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"blue-7"}})],1)])],1)},st=[],nt=a("cdde"),ot={data:function(){return{tripayModes:["sanbox","production"],form:{tripay_mode:"",tripay_api_key:"",tripay_private_key:"",tripay_merchant_code:"",is_payment_gateway:!1}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.config&&this.setConfig()},methods:{setConfig:function(){this.config&&(this.form.tripay_mode=this.config.tripay_mode,this.form.tripay_api_key=this.config.tripay_api_key,this.form.tripay_private_key=this.config.tripay_private_key,this.form.tripay_merchant_code=this.config.tripay_merchant_code,this.form.is_payment_gateway=this.config.is_payment_gateway)},daftarTripay:function(){var t="https://tripay.co.id/?ref=TP10450";window.open(t,"_blank")},handleClickTripayCallback:function(){var t=this;Object(nt["a"])(this.config.tripay_callback).then((function(){t.$q.notify({type:"positive",message:"berhasil menyalin url"})})).catch((function(){}))},updateDate:function(){var t=this;P()(P()({},this.config),this.form);Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},checkIsReady:function(t){t&&(this.isReady()||(this.form.is_payment_gateway=!1,this.$q.notify({type:"negative",message:"Silahkan lengkapi data kredensial untuk mengaktifkan payment gateway."})))},isReady:function(){return!!(this.form.tripay_mode&&this.form.tripay_api_key&&this.form.tripay_private_key&&this.form.tripay_merchant_code)}}},rt=ot,ct=Object(d["a"])(rt,it,st,!1,null,null,null),lt=ct.exports;$()(ct,"components",{QToggle:p["a"],QForm:u["a"],QSelect:g["a"],QInput:h["a"],QBtn:_["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"text-md text-weight-bold"},[t._v("System Update / Clear Cache")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan sistem update dan cache situs, Pastikan anda mengerti apa yang anda lakukan")])]),a("q-list",{staticClass:"q-pb-md"},[a("q-item",[a("q-item-section",[t.needUpdate?a("q-item-label",[a("q-badge",{attrs:{color:"green-7"}},[t._v(t._s(t.siteData))]),t._v(" Pending Update\n      ")],1):a("q-item-label",[t._v("Updated")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{loading:t.loading,disabled:!t.needUpdate,label:t.needUpdate?"Update Now":"No updated found",unelevated:"",color:t.needUpdate?"blue-7":"grey-7",size:"12px"},on:{click:t.updateSystem}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("Clear Cache")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{loading:t.loadingClearChace,label:"Clear Cache",unelevated:"",color:"blue-7",size:"12px"},on:{click:t.clearCache}})],1)],1)],1)],1)},ut=[],mt={data:function(){return{siteData:0,loading:!1,loadingClearChace:!1}},computed:{needUpdate:function(){return this.siteData>0}},created:function(){this.getUpdate()},methods:{getUpdate:function(){var t=this;Object(r["a"])().get("update").then((function(e){200==e.status&&(t.siteData=e.data.results>0?e.data.results:0)}))},updateSystem:function(){var t=this;this.loading=!0,Object(r["a"])().post("update").then((function(e){200==e.status&&(t.getUpdate(),t.$q.notify({type:"positive",message:"Berhasil update system"}))})).catch((function(){t.$q.notify({type:"negative",message:"Gagal update system, silahkan hubungi pengembang aplikasi."})})).finally((function(){t.loading=!1,setTimeout((function(){location.reload()}),500),t.$router.push({name:"Settings"})}))},clearCache:function(){var t=this;this.loadingClearChace=!0,Object(r["a"])().post("clearCache").then((function(e){200==e.status&&t.$q.notify({type:"positive",message:"Berhasil menghapus cache"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal menghapus cache, silahkan ulangi lagi"})})).finally((function(){t.loadingClearChace=!1,t.$router.push({name:"Settings"})}))}}},ft=mt,pt=a("58a81"),gt=Object(d["a"])(ft,dt,ut,!1,null,null,null),ht=gt.exports;$()(gt,"components",{QCard:m["a"],QCardSection:f["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:C["a"],QBadge:pt["a"],QBtn:_["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-md text-weight-bold"},[t._v("Kurir Toko (COD) dan Pembayaran Ditempat ")]),a("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pengaturan pengiriman kurir toko (COD) dan opsi pembayaran ditempat")])]),a("div",{staticClass:"flex justify-between items-center q-py-sm"},[a("div",{staticClass:"text-weight-medium"},[t._v("Opsi Pembayaran Ditempat")]),a("div",[a("q-toggle",{staticClass:"text-grey-8",attrs:{color:"green","left-label":"",label:t.formdata.is_cod_payment?"Active":"Disabled"},model:{value:t.formdata.is_cod_payment,callback:function(e){t.$set(t.formdata,"is_cod_payment",e)},expression:"formdata.is_cod_payment"}})],1)]),a("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pengaturan pembayaran ditempat untuk pengiriman kurir toko ")]),a("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pengaturan kecamatan tujuan untuk pengiriman kurir toko / COD ( Kosongkan untuk menonaktifkan ) ")]),a("div",[a("div",[a("q-input",{attrs:{filled:"",loading:t.searchLoading,placeholder:"Ketik kecamatan tujuan pengiriman COD",debounce:"600"},on:{input:t.searchCodData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[t.search?a("template",{slot:"append"},[a("q-btn",{attrs:{icon:"close",flat:"",color:"red",round:""},on:{click:t.closeSubdistrictBox}})],1):t._e()],2),t.subdistrictOptions.length?a("div",{staticClass:"relative"},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{staticClass:"absolute full-width z-30"},[a("q-card",{staticClass:"bg-white full-width full-height"},[a("div",{staticClass:"scroll",staticStyle:{height:"100%","max-height":"300px"}},[a("q-list",{staticClass:"bg-grey-1"},t._l(t.subdistrictOptions,(function(e,i){return a("q-item",{key:i,attrs:{clickable:""},on:{click:function(a){return t.selectCodItemData(e)}}},[a("q-item-section",{attrs:{side:""}},[t.hasCodData(e)?[a("q-icon",{attrs:{name:"remove_circle",size:"17px",color:"red"}})]:[a("q-icon",{attrs:{name:"add_circle",size:"17px",color:"green"}})]],2),a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" - "+t._s(e.type)+" "+t._s(e.city))])],1)],1)})),1)],1),a("q-inner-loading",{attrs:{showing:t.searchLoading}})],1)],1)])],1):t._e()],1),a("div",{staticClass:"q-py-md"},[a("q-list",{attrs:{separator:""}},[a("q-separator"),a("q-item",[a("q-item-section",[t._v("\n                  Kecamatan Tujuan\n                ")]),a("q-item-section",{attrs:{side:""}},[t._v("\n                  Ongkos Kirim\n                ")])],1),a("q-separator"),t._l(t.formdata.cod_list,(function(e,i){return a("q-item",{key:i,staticClass:"q-px-xs"},[a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{icon:"close",color:"red",dense:"",flat:"",round:""},on:{click:function(e){return t.removeCodList(i)}}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.subdistrict_name)+" "+t._s(e.type)+" "+t._s(e.city))])],1),a("q-item-section",{attrs:{side:""}},[a("div",[a("q-input",{staticStyle:{width:"120px"},attrs:{filled:"",square:"",dense:"",min:"0",prefix:"Rp",mask:"########",required:""},model:{value:t.formdata.cod_list[i].price,callback:function(e){t.$set(t.formdata.cod_list[i],"price",e)},expression:"formdata.cod_list[index].price"}})],1)])],1)}))],2),t.formdata.cod_list.length?t._e():a("div",{staticClass:"text-center q-py-lg"},[t._v("Tidak ada data")])],1)])]),a("q-card-actions",{staticClass:"q-pa-md justify-end"},[a("q-btn",{attrs:{type:"submit",unelevated:"",size:"12px",label:"Simpan Pengaturan",color:"blue-7"}})],1)],1)],1)],1)},vt=[],bt=(a("159b"),a("a434"),{name:"LocalShipping",data:function(){return{codListModal:!1,subdistrictOptions:[],modal:!1,search:"",searchLoading:!1,formdata:{cod_list:[],is_cod_payment:!1}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.config?this.setConfig(this.config):this.getAdminConfig()},methods:{setConfig:function(t){var e=this;this.formdata.is_cod_payment=t.is_cod_payment,t.cod_list&&t.cod_list.forEach((function(t){e.formdata.cod_list.push(t)}))},updateData:function(){var t=this;Object(r["a"])().post("config",this.formdata).then((function(){t.$store.dispatch("getAdminConfig"),t.$q.notify({type:"positive",message:"Berhasil memperbarui data"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setLoading:function(t){this.$store.commit("SET_LOADING",t)},selectCodItemData:function(t){var e=this.formdata.cod_list.filter((function(e){return e.subdistrict_id==t.subdistrict_id}));e.length&&(this.formdata.cod_list=this.formdata.cod_list.filter((function(e){return e.subdistrict_id!=t.subdistrict_id}))),this.formdata.cod_list.push(P()(P()({},t),{},{price:0})),this.search="",this.subdistrictOptions=[]},hasCodData:function(t){var e=this.formdata.cod_list.filter((function(e){return e.subdistrict_id==t.subdistrict_id}));return!!e.length},removeCodList:function(t){this.formdata.cod_list.splice(t,1)},searchCodData:function(){this.findSubdistrict()},getAdminConfig:function(){var t=this;Object(r["a"])().get("adminConfig").then((function(e){200==e.status&&t.setConfig(e.data.results)}))},findSubdistrict:function(){var t=this;this.subdistrictOptions=[],this.search.length<3||(this.searchLoading=!0,Object(r["a"])().get("shipping/findSubdistrict/"+this.search).then((function(e){200==e.status&&(e.data.success?t.subdistrictOptions=e.data.results:t.$q.notify({type:"negative",message:e.data.message}))})).finally((function(){t.searchLoading=!1})))},closeSubdistrictBox:function(){this.subdistrictOptions=[],this.search=""}}}),yt=bt,qt=a("0016"),kt=a("eb85"),Ct=Object(d["a"])(yt,_t,vt,!1,null,null,null),xt=Ct.exports;$()(Ct,"components",{QForm:u["a"],QCard:m["a"],QCardSection:f["a"],QToggle:p["a"],QInput:h["a"],QBtn:_["a"],QList:y["a"],QItem:q["a"],QItemSection:k["a"],QIcon:qt["a"],QItemLabel:C["a"],QInnerLoading:x["a"],QSeparator:kt["a"],QCardActions:v["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{attrs:{flat:""}},[a("q-card-section",[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Biaya Layanan")]),a("div",[a("q-toggle",{staticClass:"text-grey-8",attrs:{label:t.form.is_service_fee?"Active":"Disabled","left-label":"",color:"green-7"},model:{value:t.form.is_service_fee,callback:function(e){t.$set(t.form,"is_service_fee",e)},expression:"form.is_service_fee"}})],1),a("div",{staticClass:"text-caption text-grey-7"},[t._v("\n      Biaya layanan penggunaan aplikasi akan ditambahkan pada pesanan kustomer\n      ")])]),a("q-form",{staticClass:"q-mt-md q-gutter-y-sm",on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("q-input",{attrs:{filled:"",required:"",label:"Label"},model:{value:t.form.service_fee_label,callback:function(e){t.$set(t.form,"service_fee_label",e)},expression:"form.service_fee_label"}}),a("q-input",{attrs:{filled:"",type:"number",required:"",min:"0",label:"Biaya Layanan"},model:{value:t.form.service_fee,callback:function(e){t.$set(t.form,"service_fee",e)},expression:"form.service_fee"}}),a("div",{staticClass:"flex justify-end q-mt-md"},[a("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Pengaturan",color:"blue-7"}})],1)],1)],1)],1)},Qt=[],$t={data:function(){return{form:{is_service_fee:!1,service_fee:0,service_fee_label:""}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;Object(r["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil memperbarui data"}),t.$store.dispatch("getAdminConfig")})).catch((function(){t.$q.notify({type:"negative",message:"Gagal memperbarui data"})}))},setData:function(){this.config&&(this.form.is_service_fee=this.config.is_service_fee,this.form.service_fee=this.config.service_fee,this.form.service_fee_label=this.config.service_fee_label)}}},jt=$t,St=Object(d["a"])(jt,wt,Qt,!1,null,null,null),Dt=St.exports;$()(St,"components",{QCard:m["a"],QCardSection:f["a"],QToggle:p["a"],QForm:u["a"],QInput:h["a"],QBtn:_["a"]});var Ot={name:"AdminConfig",components:{Shipping:S,Tampilan:E,Theming:K,Notification:at,Tripay:lt,SystemUpdate:ht,CheckoutConfig:Y,LocalShipping:xt,ServiceFee:Dt},computed:{loading:function(){return this.$store.state.loading},config:function(){return this.$store.state.config}},created:function(){this.config||this.$store.dispatch("getAdminConfig")}},Tt=Ot,Pt=a("9989"),Lt=a("e359"),It=a("65c6"),At=a("6ac5"),Bt=a("2eeb"),Et=Object(d["a"])(Tt,i,s,!1,null,null,null);e["default"]=Et.exports;$()(Et,"components",{QPage:Pt["a"],QHeader:Lt["a"],QToolbar:It["a"],QBtn:_["a"],QToolbarTitle:At["a"],QInnerLoading:x["a"]}),$()(Et,"directives",{GoBack:Bt["a"]})}}]);